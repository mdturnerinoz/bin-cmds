#
# sleeplast - display recnet Mac sleep actions via pmset, grep, and tail
#
# This command is used to make sure that your Mac is going to sleep as 
# You expect it to: you can monitor that it's slepping as expected to 
# save you disk and battery life as well as energy if mains-connected.
#
# params: number of latest sleep events to display (default 2)
#
# e.g. 
# sleeplast
# 18/12/2013 11:41:02 pm A Sleep Software Sleep pid=570: Using AC 2720 secs                      	
# 19/12/2013 5:30:04 am AE Wake  Wake [CDNVA] due to RTC/Alarm: Using AC
#
#!/bin/sh
if [ -z "$1" ] ;
then
  cnt=2
else 
  cnt=$1
fi
#echo cnt: $cnt
pmset -g log|grep -e "Wake \[CDNVA" -e "Software Sleep " | tail -n $cnt
